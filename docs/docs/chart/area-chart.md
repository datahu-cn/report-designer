# 面积图

二维坐标系面积图，如图：

[演示报表](https://datahu.cn/report?key=dbc82fe7e409e273d719b029bf7ac3f5#/detail)

![](/assets/2021-09-08-12-02-08-image.png)

## 数据

分组：一般为 x 轴分类数据， 可以拖拽多个栏目， 多个栏目时默认展示第一个栏目，并可在图表上下钻进入下一层栏目。

值：数据栏，一个栏目对应一个图形

工具提示：鼠标移动到折线上时会显示 tooltip， 默认显示值的信息， 如果想增加额外的栏目信息，可拖拽栏目到此处

视觉映射：视觉映射根据值的大小，动态控制线条的颜色、形状、大小等，与配置中的“视觉映射”配合使用，当需要的值不在其他栏目中时，可将该栏目拖拽到此处。

图表过滤：只对当前图表的数据进行过滤

全局过滤：对整个报表的数据进行过滤，同时也可在表格中对数据进行过滤，2 处操作产生效果相同

## 配置项

### 数据

开启增量刷新： 当数据量比较大且动画定时刷新图表数据时，可以开启该功能，页面切换更流畅

显示数据下钻按钮：当数据栏的分组下有多个栏目时，开启该功能会在组件右上角显示数据的下钻相关按钮

显示数据查看按钮：开启该功能会在组件右上角显示数据查看按钮

显示全屏按钮：开启该功能会在组件右上角显示全屏展开按钮

影响数据范围：在有数据下钻时有效，当数据下钻时，会对当前数据进行分组过滤，此处控制影响的组件范围

### 工具提示

控制鼠标移动到折线上时显示的 tooltip

样式：设置 tooltip 的样式

### 图例标签

列表朝向：横向和纵向，多条折线时生效

标记和文本位置：表格和文本的显示位置

距左、距右、距上、距下：标签在整个组件图表中的显示位置

文字样式：定义标签文字的样式

### 绘图网格

显示：是否显示网格

宽、高： 绘图区域的宽和高， 一般默认即可

距左、距右、距上、距下：绘图区域的控制，如果宽、高为自动，则根据绘图区域的边距自动生成宽高

### x 轴

坐标轴类型：可选值包括类目、数值、时间、对数

- 数值轴，适用于连续数据，数据格式为数字。

- 类目轴，适用于离散的类目数据，数据格式一般为字符串。

- 时间轴，适用于连续的时序数据，与数值轴相比时间轴带有时间的格式化，在刻度计算上也有所不同，例如会根据跨度的范围来决定使用月，星期，日还是小时范围的刻度，数值格式为'yyyy-MM-dd HH:mm:ss'

- 对数轴。适用于对数数据。

-

名称: x 轴的名称

名称显示位置：名称显示的位置

名称样式：名称的样式

位置：x 轴轴线和刻度等显示的位置

刻度最小值：刻度的起始值，默认自动获取数据中的最小值

刻度最大值：刻度的结束值，默认自动回去数据中的最大值

标签显示：是否显示 x 轴刻度下的文字标签

标签格式：一般已在数据栏的栏目中已经定义好了格式， 此处也可定义格式，示例：'{value} kg'

标签的显示间隔：标签不重叠、显示所有标签

刻度标签旋转的角度：当文字比较长，横向无法排列时，可以旋转文字，让文字斜着排列，取值范围 -90 到 90

标签样式：标签的文字样式

### y 轴

配置项同 x 轴，x 轴和 y 轴的类型可以相互调换，此时折线竖向变化

### 数据缩放

当轴线上的数据比较多时，可开始数据缩放功能，通过滑动条或鼠标滚动显示坐标轴中的数据

**缩放方式**：内置型和滑动条型，滑动条型数据区域缩放组件提供了数据缩略图显示，缩放，刷选，拖拽，点击快速定位等数据筛选的功能。

所谓『内置』，即内置在坐标系中。

- 平移：在坐标系中滑动拖拽进行数据区域平移。
- 缩放：
  - PC 端：鼠标在坐标系范围内滚轮滚动（MAC 触控板类同）
  - 移动端：在移动端触屏上，支持两指滑动缩放。
  - 

### 图形

设置区域的样式、形状、颜色等

图形形状：此处可将折线变成柱状、散点、涟漪散点和 K 线图，改变形状后，相关配置属性也同步变化

图形标记：折线转折点处的图形形状

图形样式：折线转折点处的图形样式，如果线条没有设置颜色，则线条颜色和图形一起变化

裁剪超出坐标系部分的图形：是否裁剪超出坐标系部分的图形，具体裁剪效果根据系列决定

线条样式：折线线条的样式

显示为面积图：开启后变成面积图

区域颜色：面积区域的颜色

区域起始位置：

- 轴线到数据：填充坐标轴轴线到数据间的区域

- 坐标轴底部：填充坐标轴底部到数据间的区域

- 坐标轴顶部：填充坐标轴顶部到数据间的区域

-

数据堆叠：同个类目轴上系列配置相同的堆叠值后，后一个系列的值会在前一个系列的值上相加。

阶梯线图：是否是阶梯线图，开启后线条横向阶梯变化

标签样式：设置线条上的文字标签，控制是否显示和显示的位置、标签文字样式等

平滑曲线：平滑折线的转折点

标记点、标记线、标记区域：标记图表上的一个点、一条线、一个方块区域

### 视觉映射

线性图的视觉映射到线条的颜色上，可配置线条颜色根据指定栏目值动态变化

连续型视觉映射组件：针对数值类型的，有连续变化的栏目进行映射

分段型视觉映射组件有三种模式：

- 连续型数据平均分段: 依据设置的分段数来自动平均分割成若干块。
- 连续型数据自定义分段: 依据精确指定的分段来定义每块范围。
- 离散数据（类别性数据）: 离散数据根据类别分段
